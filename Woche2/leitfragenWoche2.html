<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Apple macOS version 5.8.0">
  <meta charset="UTF-8">
  <title>Leitfragen Woche 2</title>
  <link href=
  "https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
  rel="stylesheet" integrity=
  "sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
  crossorigin="anonymous">
  <style>
        .mono {
            font-family: monospace;
        }

        li, pre {
            margin: 0.5em;
        }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Leitfragen Woche 2</h1>
      <p>Die Leitfragen sind ein Einstiegspunkt um das Material zu
      erschließen. Es ist <strong>nicht</strong> ausreichend als
      Vorbereitung zur Klausur die Fragen zu beantworten!</p>
    </header>
    <main>
      <section>
        <h2>Servlets</h2>
        <ol>
          <li>Ändern Sie den Content Type in der Anwendung für eins
          der Servlets auf <span class="mono">text/plain</span>,
          <span class="mono">application/json</span> bzw.
          <span class="mono">application/brilliantformat</span> und
          öffnen Sie die Seite im Browser. Können Sie das Verhalten
          bzw. ggf. auftretende Fehler erklären?
            <p class="antwort">Antwort: Alle drei Content Types werden angenommen.
                <ol>
                    <li> Sowohl application/json als auch application/brilliantformat geben answer als Liste von Strings zurück.
                    application/brilliantformat jedoch lädt zusätzlich das HTML-Dokument der Page herunter.</li>
                  <li> application/json gibt answer ebenfalls als Liste von String zurück, da JSON ebenfalls textbasiert ist.</li>
                  <li> Zwischen text/plain und application/json besteht im Ergebnis zunächst einmal kein Unterschied. </li>
                </ol>
            </p>
          </li>
          <li>Überschreiben Sie in einem der Servlets die
          <span class="mono">doPost</span> Methode. Entwickeln Sie
          ein Formular, dass einen POST Request ausführt, der in
          der Webanwendung durch die überschriebene Methode
          abgearbeitet wird. Das Formular sollte einige
          Eingabefelder haben. Geben Sie die übermittelten Werte
          aus dem Formular auf der Konsole aus.
            <p class="antwort">Antwort: Siehe Projekt im Ordner 'Jetty' für einen Lösungsvorschlag!</p>
          </li>
          <li>Wie kann das Servlet einen Fehlerstatus produzieren?
          Versuchen Sie einmal einen "418 I'm a Teapot" Fehlercode
          zu produzieren. Tipp: Schauen Sie in die Klasse
          <span class="mono">HttpServletResponse</span>.
            <p class="antwort">Antwort: Die Fehlerstatus werden unter anderem als Felder in der Klasse HttpServletResponse
            gespeichert. Mit <pre>resp.sendError(418, "I'm a teapot")</pre> in der doGet-Methode wird der Fehler manuell geworfen.</p>
          </li>
          <li>Wie können Sie innerhalb einer Servlet-Methode
          herausfinden, welche tatsächliche URL aufgerufen wurde?
          Tipp: Schauen Sie in die Klasse `HttpServletRequest`.
            <p class="antwort">Antwort: Die Methode <pre>getRequestURL()</pre> der Klasse httpServletRequest
              gibt die URL zurück, die die Request an das Servlet gemacht hat.</p>
          </li>
        </ol>
      </section>
      <section>
        <h2>Spring Web</h2>
        <ol>
          <li>Schreiben Sie einen Controller mit zwei Methoden
          (<span class="mono">showForm</span> und <span class=
          "mono">processForm</span>) für die URL <span class=
          "mono">/form</span>. Die <span class=
          "mono">showForm</span> Methode soll GET Requests, die
          <span class="mono">processForm</span> Methode POST
          Requests verarbeiten. Schreiben Sie ein einfaches
          Formular <span class="mono">form.html</span> mit einem
          Input Feld. Die <span class="mono">showForm</span> Methode
          liefert das Formular aus. Die <span class=
          "mono">processForm</span> Methode gibt den Formularinhalt
          auf der Konsole aus und redirected den Browser zurück auf
          das Formular, es soll also ein neuer GET Request
          ausgelöst werden.
            <p class="antwort">Antwort:</p>
          </li>
          <li>Warum ist es sinnvoll, nach einem POST einen solchen
          Redirect durchzuführen?
            <p class="antwort">Antwort:</p>
          </li>
          <li>Schreiben Sie eine Klasse <span class=
          "mono">Person</span>, die die Attribute <span class=
          "mono">name</span> und <span class="mono">alter</span>
          hat. Schreiben Sie entweder Getter oder verwenden Sie
          einen Record Typ. Schreiben Sie dann einen Controller mit
          folgender Methode:
            <pre>
@GetMapping("/rest")
public @ResponseBody List&lt;Person&gt; showListe() {
   // Erzeugen Sie eine Liste mit einigen Personen-Objekten 
   return liste;
}
            </pre>Was passiert, wenn Sie die URL aufrufen?
Experimentieren Sie mit anderen Datentypen, sowohl als Rückgabetyp,
als auch als Typ-Parameter von <span class="mono">List</span>.
            <p class="antwort">Antwort:</p>
          </li>
          <li>Was passiert eigentlich, wenn wir zwei
          Controller-Methoden schreiben, die für die gleiche URL
          und das gleiche HTTP-Verb konfiguriert sind? Macht es
          einen Unterschied, ob die Methoden im gleichen oder
          unterschiedlichen Controller-Klassen sind?
            <p class="antwort">Antwort:</p>
          </li>
          <li>Angenommen, wir wollen eine Mailadresse aus einem
          Formular entgegennehmen. Die Eingabe der Adresse soll
          verpflichtend sein. Warum reicht es eigentlich nicht, als
          Input-Typ in dem Formular <span class="mono">email</span>
          zu verwenden und das Attribut <span class=
          "mono">required</span> zu setzen? Schreiben Sie eine
          Controller Methode, die die sicherstellt, dass
          tatsächlich eine Mailadresse eingegeben wurde. Tipp:
          Schauen Sie sich die in Bean Validation definierten
          Annotationen an.
            <p class="antwort">Antwort:</p>
          </li>
          <li>Warum werden Methoden in Request-Annotationen mit
          einem logischen der und nicht mit einem logischen Und
          verknüpft?
            <p class="antwort">Antwort:</p>
          </li>
          <li>Was ist der Unterschied zwischen <span class="mono">
            th:text="${foo}"</span> und <span class=
            "mono">data-th-text="${foo}"</span> in einer Spring
            Boot Anwendung, die Thymeleaf verwendet, um HTML Seiten
            zu rendern?
            <p class="antwort">Antwort:</p>
          </li>
          <li>Implementieren Sie eine Webanwendung, die den
          Blutalkoholwert nach der Einnahme von alkoholischen
          Getränken berechnet. Verwenden Sie zur Berechnung die
          <a href=
          "https://de.wikipedia.org/wiki/Blutalkoholkonzentration#Widmark-Formel">
            Widmark-Formel</a>. Als Reduktionsfaktoren soll für
            Männer der Wert 0,7 und für Frauen der Wert 0,6
            verwendet werden. Wir gehen davon aus, dass der Rechner
            nur von erwachsenen Personen verwendet wird.
            <ul>
              <li>Unter der URL / soll ein Eingabeformular
              erreichbar sein, in dem Geschlecht und Gewicht
              eingegeben werden. Außerdem sollen die Nutzer die
              Getränkemengen in ml eingeben können. Wir verwenden
              folgende Getränke:Bier (5 vol%), Wein (12 vol%), Korn
              (32 vol%), Vodka (40 vol%), Whiskey (43 vol%)</li>
              <li>Das Formular wird mit POST an die gleiche URL
              übermittelt, der Blutalkoholwert wird berechnet und
              angezeigt</li>
            </ul>
            <p class="antwort">Antwort:</p>
          </li>
        </ol>
      </section>
      <section>
        <h2>Offene Fragen</h2>
        <p>Notieren Sie, wenn Sie bei der Bearbeitung des Stoffs
        etwas nicht verstanden haben.</p>
        <ul>
          <li>...</li>
          <li>...</li>
          <li>...</li>
        </ul>
      </section>
    </main>
  </div>
</body>
</html>
